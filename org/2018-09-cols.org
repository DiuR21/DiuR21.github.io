#+TITLE: 2018-09-cols

* Linux文件系统

  : 元数据
  : 日志文件系统；日志系统的鲁棒性--原子操作；保证了，在日志未写入正确的情况下，文件系统的修改是可roll back的

[[http://linuxperf.com/?p=153][日志文件系统是怎样工作的]] 

[[http://www.ruanyifeng.com/blog/2007/03/metadata.html][元数据]]
#+begin_quote
描述数据的数据
为计算机处理数据、分类提供了可能
#+end_quote

[[https://linux.cn/article-10000-1.html?utm_source=rss&utm_medium=rss][ext4 Linux文件系统理解]]

#+begin_quote
在大部分情况下，ext2 在 Linux 发行版中工作得很好，但像 FAT、FAT32、HFS 和当时的其它文件系统一样 —— 在断电时容易发生灾难性的破坏。
如果在将数据写入文件系统时候发生断电，则可能会将其留在所谓 不一致 的状态 —— 事情只完成一半而另一半未完成。
这可能导致大量文件丢失或损坏，这些文件与正在保存的文件无关甚至导致整个文件系统无法卸载。

ext3 和 20 世纪 90 年代后期的其它文件系统，如微软的 NTFS，使用 日志 来解决这个问题。
日志是磁盘上的一种特殊的分配区域，其写入被存储在事务中；如果该事务完成磁盘写入，则日志中的数据将提交给文件系统自身。
如果系统在该操作提交前崩溃，则重新启动的系统识别其为未完成的事务而将其进行回滚，就像从未发生过一样。
这意味着正在处理的文件可能依然会丢失，但文件系统 本身 保持一致，且其它所有数据都是安全的。--这真是一个有趣的设计
#+end_quote

